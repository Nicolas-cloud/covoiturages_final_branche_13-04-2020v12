/*

window.onload = () => {
    // On va chercher la balise link
    let themeLink = document.getElementById("theme-link")

    // Y a-t-il un thème stocké dans le localStorage
    if (localStorage.theme != null) {


        themeLink.href = window.location.host + '/css/style_${localStorage.theme}.css'
    } else {
        themeLink.href = window.location.host + '/css/style_${localStorage.theme}.css'

        localStorage.theme = "clair"
    }

    // Ecouteur d'évènement "click" sur la span
    document.getElementById("theme").addEventListener("click", function () {
        if (localStorage.theme == "clair") {
            localStorage.theme = "sombre"
            this.innerText = "Thème clair"
        } else {
            localStorage.theme = "clair"
            this.innerText = "Thème sombre"
        }
        themeLink.href = window.location.host + '/css/style_${localStorage.theme}.css'
    })
}
*/






window.onload = () => {
    // On va chercher la balise link
    let themeLink = document.getElementById("theme-link")
    let theme_select = window.localStorage.getItem('theme');
    let assets = 'http://' + window.location.host + '/css/style_' + theme_select + '.css';
    
   // if (theme_select != null) {
        //if (theme_select == "clair" || theme_select == "sombre") {
            themeLink.setAttribute("href", assets);
            console.log('Si pas nul et soit clair ou sombre', themeLink.href = assets);
            document.getElementById("theme").innerText = 'Thème ' + theme_select;
        //}
    //} else {
        console.log('Aucun thème')
        window.localStorage.setItem('theme', 'sombre');
        themeLink.setAttribute("href", window.location.host + '/css/style_sombre.css');
        document.getElementById("theme").innerText = 'Thème sombre';

  //  }
    // Ecouteur d'évènement "click" sur la span
    if (theme_select != null) { themeLink.href = assets; document.getElementById("theme").innerText = 'Thème ' + theme_select; }

    document.getElementById("theme").addEventListener("click", function () {
        if (theme_select == "clair")  {
            console.log('Si clair alors => ', theme_select)
            window.localStorage.setItem('theme', 'sombre');            
            this.innerText = "Thème clair"
            themeLink.href = assets;
          } else {
            if (theme_select == "sombre") {
                console.log('Si sombre alors => ', theme_select) 
                window.localStorage.setItem('theme', 'clair');                
                this.innerText = "Thème sombre"
                themeLink.href = assets;
            }
        }
    })
}