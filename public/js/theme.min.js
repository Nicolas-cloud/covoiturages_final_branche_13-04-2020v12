window.onload = () => {
    // On va chercher la balise link
    let themeLink = document.getElementById("theme-link")
    let theme_select = window.localStorage.getItem('theme');
    let assets = 'http://' + window.location.host + '/css/style_' + theme_select + '.css';

    // if (theme_select != null) {
    //if (theme_select == "clair" || theme_select == "sombre") {
    themeLink.setAttribute("href", assets);
    console.log('Si pas nul et soit clair ou sombre', themeLink.href = assets);
    document.getElementById("theme").innerText = 'Thème ' + theme_select;
    //}
    //} else {
    console.log('Aucun thème')
    window.localStorage.setItem('theme', 'sombre');
    themeLink.setAttribute("href", window.location.host + '/css/style_sombre.css');
    document.getElementById("theme").innerText = 'Thème clair';

    //  }
    // Ecouteur d'évènement "click" sur la span
    if (theme_select != null) { themeLink.href = assets; document.getElementById("theme").innerText = 'Thème ' + theme_select; }

    document.getElementById("theme").addEventListener("click", function () {
        theme_select = localStorage.theme
        if (theme_select == "clair") {
            console.log('Si clair alors => ', theme_select)
            window.localStorage.setItem('theme', 'sombre');
            this.innerText = "Thème clair"
            themeLink.href = 'http://' + window.location.host + '/css/style_sombre.css';
        } else {
            if (theme_select == "sombre") {
                console.log('Si sombre alors => ', theme_select)
                window.localStorage.setItem('theme', 'clair');
                this.innerText = "Thème sombre"
                themeLink.href = 'http://' + window.location.host + '/css/style_clair.css';
            }
        }
    })
}













/*
window.onload = () => { // Nous attendons que le DOM soit entièrement chargé
    // Nous allons chercher la balise "link" contenant le thème
    console.log('http://' + window.location.host + '/css/style_' + localStorage.theme + '.css');

    let themeLink = document.getElementById("theme-link")

    // Nous vérifions si un thème est déjà stocké
    if (localStorage.theme != null) {
        // Si un thème est stocké, nous le chargeons dans le href de la balise link
        themeLink.href = 'http://' + window.location.host + '/css/style_' +localStorage.theme+'.css'
    } else {
        // Si aucun thème n'est stocké, nous initialisons le lien
        themeLink.href = 'http://' + window.location.host + '/css/style_' + localStorage.theme + '.css'
        // Nous stockons le thème clair
        localStorage.theme = "clair"
    }
}

document.getElementById("theme").addEventListener("click", function () {
    // Si le thème stocké est "clair"
    if (localStorage.theme == "clair") {
        // On stocke le thème "sombre"
        localStorage.theme = "sombre"
        // On prépare le texte de la span pour revenir au thème clair
        var themeText = "clair"
    } else { // Sinon
        // On stocke le thème "clair"
        localStorage.theme = "clair"
        // On prépare le texte de la span pour revenir au thème sombre
        var themeText = "sombre"
    }
    // On met à jour le texte de la span
    this.innerText = `Thème ${themeText}`
    // On met à jour le href de la balise link
    document.getElementById("theme-link ")
})


*/


/*
window.onload = () => {
    // On va chercher la balise link
    let themeLink = document.getElementById("theme-link")
    let theme_select = window.localStorage.getItem('theme');
    let assets = 'http://' + window.location.host + '/css/style_' + theme_select + '.css';
    
   // if (theme_select != null) {
        //if (theme_select == "clair" || theme_select == "sombre") {
            themeLink.setAttribute("href", assets);
            console.log('Si pas nul et soit clair ou sombre', themeLink.href = assets);
            document.getElementById("theme").innerText = 'Thème ' + theme_select;
        //}
    //} else {
        console.log('Aucun thème')
        window.localStorage.setItem('theme', 'sombre');
        themeLink.setAttribute("href", window.location.host + '/css/style_sombre.css');
        document.getElementById("theme").innerText = 'Thème clair';

  //  }
    // Ecouteur d'évènement "click" sur la span
    if (theme_select != null) { themeLink.href = assets; document.getElementById("theme").innerText = 'Thème ' + theme_select; }

    document.getElementById("theme").addEventListener("click", function () {
        if (theme_select == "clair")  {
            console.log('Si clair alors => ', theme_select)
            window.localStorage.setItem('theme', 'sombre');            
            this.innerText = "Thème clair"
            themeLink.href = assets;
        } else {
            if (theme_select == "sombre") {
                console.log('Si sombre alors => ', theme_select) 
                window.localStorage.setItem('theme', 'clair');                
                this.innerText = "Thème sombre"
                themeLink.href = assets;
            }
        }
    })
}


*/